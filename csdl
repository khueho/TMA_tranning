-- Create table
create table Accounts
(
  Username VARCHAR(20) not null,
  Password  VARCHAR(128) not null
  
) ;

alter table Accounts
  add primary key (username) ;
---------------------------------------

create table Category
(
 CategoryId int NOT NULL,
 Name varchar(100) not null
  
) ;

alter table Category
  add primary key (CategoryId) ;
---------------------------------------

create table Customer
(
 CustomerId int  NOT NULL,
 Name varchar(100) not null,
 Email varchar(100) not null,
Password varchar(100) not null,
Phone varchar(10) not null,
RegisteredDate date NOT NULL,
Status int NOT NULL
  
) ;

alter table Customer
  add primary key (CustomerId) ;


---------------------------------------

CREATE TABLE Product(
	ProductId int  NOT NULL,
	Name varchar(60) NOT NULL,
	Quantity bit NOT NULL,
	UnitPrice float NOT NULL,
	Image varchar(50) NOT NULL,
	Description varchar(200) NULL,
	Discount float NOT NULL,
	EnteredDate date NOT NULL,
	Status INT not null,
	CategoryId int NOT NULL
);
alter table Product
  add primary key (ProductId) ;
alter table Product
  add constraint Product_PROD_FK foreign key (CategoryId)
  references Category (CategoryId);
---------------------------------------
-- Create table
CREATE TABLE  Orders(
  OrdersId          int  NOT NULL,
  Amount           double precision not null,
  OrderDate       date not null,
  CustomerId 	int NOT NULL,
  Status 		INT not null
) ;
alter table Orders
  add primary key (OrdersId) ;
alter table Orders
  add constraint Orders_PROD_FK foreign key (CustomerId)
  references Customer (CustomerId);
---------------------------------------

-- Create table
create table OrderDetail
(
  OrderDetailId        int not null,
  OrdersId       int    NOT NULL,
  ProductId  int not null,
  Amount     double precision not null,
  UnitPrice      double precision not null,
  Quantity    INT not null
  
) ;
--  
alter table OrderDetail
  add primary key (OrderDetailId ) ;
alter table OrderDetail
  add constraint ORDER_DETAIL_ORD_FK foreign key (OrdersId)
  references Orders (OrdersId);
alter table OrderDetail
  add constraint ORDER_DETAIL_PROD_FK foreign key (ProductId)
  references Product (ProductId);

---------------------------------------  
